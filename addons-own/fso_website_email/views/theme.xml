<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    <!--
        Common Sub-Templates for the E-Mail Themes and Templates
    -->

    <!-- COMMON <head> -->
    <template id="theme_head_common">
        <meta charset="utf-8"/>
        <meta name="viewport" content="initial-scale=1"/>
        <meta name="description" t-att-content="main_object and 'website_meta_description' in main_object and main_object.website_meta_description or website_meta_description"/>
        <meta name="keywords" t-att-content="main_object and 'website_meta_keywords' in main_object and main_object.website_meta_keywords or website_meta_keywords"/>
        <meta name="generator" content="Fundraising Studio Online"/>

        <title>
            FS-Online E-Mail Editor
        </title>

        <!-- Set language -->
        <t t-set="languages" t-value="website.get_languages() if website else None"/>
        <t t-if="request and request.website_multilang and website">
            <t t-foreach="website.get_alternate_languages(request.httprequest)" t-as="lg">
                <link rel="alternate" t-att-hreflang="lg['hreflang']" t-att-href="lg['href']"/>
            </t>
        </t>

        <!-- Load custom head code from qweb template -->
        <t t-raw="0"/>

        <!-- EDITOR CSS -->
        <t t-if="email_editor_mode">
            <!-- Load default odoo editor css into head -->
            <t t-call-assets="web.assets_common" t-js="false"/>
            <t t-call-assets="website.assets_frontend" t-js="false"/>
            <t t-call-assets="website.assets_editor" t-js="false"/>

            <!-- Common editor CSS -->
            <link rel='stylesheet' href='/fso_website_email/static/src/css/editor.css' t-ignore="true"/>

            <!-- Theme specific editor CSS -->
            <link t-if='editor_css' rel='stylesheet' t-att-href='editor_css' t-ignore="true"/>
        </t>

        <!-- PRINT FIELDS -->
        <!-- link rel='stylesheet' href='/fso_website_email/static/src/css/dadi_print_fields.css' t-ignore="true"/ -->
        <style type="text/css" id="fs_print_fields_styles">
            /* Change color in edit mode only */
            #wrapwrap .drop_in_print_field > span {
                color: white;
                background-color: darkgrey;
            }

            /* hide/display fields in preview and edit mode */
            .drop_in_print_field > span {
                display: none;

            }
            <t t-set="print_fields" t-value="request.env['fso.print_field'].search([])"/>
            <t t-foreach="print_fields" t-as="print_field">
                .drop_in_print_field.<t t-esc="print_field.css_class"/> > span.<t t-esc="print_field.css_class"/> {
                    display: initial;
                }
            </t>
        </style>
    </template>


    <!-- COMMON <body> -->
    <template id="theme_body_common">
        <!-- EDITOR toolbar -->
        <t t-if="email_editor_mode">
            <t t-call="fso_website_email.editor_toolbar"/>
        </t>

        <!-- Template body code -->
        <t t-raw="0"/>

        <!-- EDITOR configuration -->
        <t t-if="email_editor_mode">
            <t t-call="fso_website_email.editor_js"/>
        </t>
    </template>

</data>
</openerp>
