<?xml version="1.0"?>
<openerp>
    <data>

        <!-- NEW: Calendar Events Category Tree View -->
        <record id="view_calendar_event_category_tree" model="ir.ui.view">
            <field name="name">Meeting Categories Tree</field>
            <field name="model">calendar.event.category</field>
            <field name="arch" type="xml">
                <tree string="Meeting Categories" editable="bottom">
                    <field name="name"/>
                </tree>
            </field>
        </record>

        <record id="action_calendar_category_type" model="ir.actions.act_window">
            <field name="name">Meeting Categories</field>
            <field name="res_model">calendar.event.category</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="view_calendar_event_category_tree"/>
        </record>

        <menuitem id="menu_calendar_event_category" parent="calendar.menu_calendar_configuration" action="action_calendar_category_type" groups="base.group_no_one"/>


        <!-- CALENDAR FORM VIEW: Add Fields -->
        <record id="view_calendar_event_form_calendar_log" model="ir.ui.view">
            <field name="name">view_calendar_event_form_calendar_log</field>
            <field name="model">calendar.event</field>
            <field name="inherit_id" ref="calendar.view_calendar_event_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@class='oe_title']/h2" position="after">
                    <div style="vertical-align: inherit;">
                        <label for="no_invitations" string="Do not send invitation e-mails "/>
                        <field style="vertical-align: inherit;" name="no_invitations" class="oe_inline"/>
                    </div>
                </xpath>
                <xpath expr="//label[@for='partner_ids']" position="before">
                    <label for="category_id" string="Category" class="oe_edit_only"/>
                    <h2 style="padding-bottom: 1em;">
                        <field name="category_id"/>
                    </h2>
                </xpath>
                <xpath expr="//field[@name='duration']" position="after">
                    <field name="phonecall_id"/>
                    <field name="opportunity_id"/>
                </xpath>
            </field>
        </record>

        <!-- CALENDAR SEARCH VIEW -->
        <record id="view_calendar_log_search" model="ir.ui.view">
            <field name="name">Calendar Search View</field>
            <field name="model">calendar.event</field>
            <field name="inherit_id" ref="calendar.view_calendar_event_search"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='user_id']" position="after">
                    <field name="category_id"/>
                    <field name="phonecall_id"/>
                </xpath>
            </field>
        </record>

        <!-- ToDo: Calender Tree View Modifications -->

        <!-- CRM Meeting Calendar -->
        <record id="view_calendar_event_calendar_calendar_log" model="ir.ui.view">
            <field name="name">view_calendar_event_calendar_calendar_log</field>
            <field name="model">calendar.event</field>
            <field name="inherit_id" ref="calendar.view_calendar_event_calendar"/>
            <field name="arch" type="xml">
                <xpath expr="//calendar" position="attributes">
                    <attribute name="display">[category_id], [name]</attribute>
                    <!--<attribute name="event_open_popup">%(calendar.view_calendar_event_form)s</attribute>-->
                </xpath>
                <xpath expr="//field[@name='name']" position="after">
                    <field name="category_id"/>
                </xpath>
            </field>
        </record>

    </data>
</openerp>