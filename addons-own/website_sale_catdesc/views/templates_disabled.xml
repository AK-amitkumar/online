<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

    <template id="products_categories_description_recursive" inherit_id="website_sale.products" name="Category Description List">
        <t t-if="not cat.desc and cat.parent_id">
            <!-- Strange for me that this t-as="cat" returns an object and not just the id - but it works -->
            <t t-foreach="cat.parent_id" t-as="cat">
                <t t-call="products_categories_description_recursive"/>
            </t>
        </t>
        <div t-if="cat.desc" t-field="cat.desc"/>
    </template>

    <template id="products_categories_description" inherit_id="website_sale.products" name="Category Description">
        <xpath expr="//div[@id='products_grid']//table" position="before">
            <div t-if="category">
                <t groups="base.group_website_publisher">
                    <p>Use This area to add additional description text for the currently selected category
                       <i>(If there is no text for the current category the text from the parent category will be displayed.)</i></p>
                </t>
                <t t-foreach="category" t-as="cat">
                    <t t-call="products_categories_description_recursive"/>
                </t>
            </div>
        </xpath>
    </template>

</data>
</openerp>