<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>
    
    <!-- ASSETS THEME DADI -->
    <template id="theme_dadi_assets">
        <!-- EXAMPLE: Load local css files or even external style sheets and or js -->
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,700' rel='stylesheet' type='text/css' t-ignore="true"/>
        
        <!-- EXAMPLE: Theme CSS -->
        <style type="text/css">
            body {
                background-color: inherit;
            }
        </style>
    </template>
    
    <!-- ASSETS THEME DADI EDITMODE -->
    <template id="theme_dadi_assets_editmode">
        
        <!-- EXAMPLE: Load custom snippets template -->
        <script type="text/javascript">
            //<![CDATA[
                (function () {
                    'use strict';
                    var website = openerp.website;
                    website.if_dom_contains('#email_designer', function () {
                        website.snippet.BuildingBlock.include({
                            _get_snippet_url: function () {
                                return '/fso/email/snippets?snippets_template=fso_website_email.theme_dadi_snippets';
                            }
                        });
                    });
                })();
            //]]>
        </script>
        
        <!-- EXAMPLE: Override the CKEditor Settings for edit mode -->
        <script type="text/javascript">
            //<![CDATA[
            (function () {
                'use strict';
                // Overwrite class method of website/static/src/js/website.editor.js@839
                // to append/set/override CKEDITOR.config for wrapwrap editor
                openerp.website.RTE = openerp.website.RTE.extend({
                    _config: function () {
                        // Run the original method to modify it's result
                        var config =  this._super();
                        // Add Custom font and font background colors
                        config.colorButton_colors = 'fafafa,aaaaaa,cccccc';
                        // return the config
                        return config;
                    }
                });
            })();
            //]]>
        </script>
        
        <!-- EXAMPLE: Change color and background of print fields in edit mode -->
        <style>
        
        </style>
    </template>
    
    <!-- THEME DADI SNIPPETS -->
    <template id="theme_dadi_snippets">
        <!-- HINT: Check 'Load custom snippets template' in template
                   'theme_dadi_assets_editmode' from above -->
        <!-- HINT: For this theme it would not be necessary to load snippets at all
             but it is here as an example :) -->
        <t t-call="fso_website_email.theme_default_snippets"/>
    </template>

    <template id="theme_dadi"
              name="Default Theme">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
        <html t-att-lang="lang and lang.replace('_', '-')"
              t-att-data-website-id="website and website.id or None"
              t-att-data-editable="'1' if editable else None"
              t-att-data-translatable="'1' if translatable else None"
              t-att-data-view-xmlid="xmlid if editable else None"
              t-att-data-main-object="repr(main_object) if editable else None"
              t-att-data-oe-company-name="res_company.name if editable else None">

            <!-- TEMPLATE SETTINGS -->
            <!-- ================= -->
            <t t-set="load_default_theme" t-value="True"/>
            <!-- ================= -->

            <head>
                <!-- COMMON CSS ASSETS AND <head> TAGS -->
                <t t-call="fso_website_email.theme_head_common"/>
                
                <!-- THEME DADI CSS ASSETS IN EDIT MODE -->
                <t t-if="email_editor_mode">
                    <t t-call-assets="fso_website_email.theme_dadi_assets_editmode" t-js="false"/>
                </t>
                
                <!-- THEME DADI CSS ASSETS -->
                <t t-call-assets="fso_website_email.theme_dadi_assets" t-js="false"/>
                
                <meta name="viewport" content="width=device-width"/>
            </head>


            <body>
                <!-- EDITOR MODE AND COMMON JAVA SCRIPT ASSETS -->
                <t t-call="fso_website_email.theme_body_common">

                    <!-- Dadi Template based on mailchimp boilerplate -->
                    <center>
                        <table id="bodyTable" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%">

                            <!-- HEADER -->
                            <tr>
                                <td class="headerCell" align="center">
                                    <a href="#" target="_blank">View e-mail in browser</a>
                                </td>
                            </tr>

                            <!-- EMAIL CONTAINER (CONTENT) -->
                            <tr>
                                
                                <!-- bodyCell width: 100% padding: 0 left and right  -->
                                <td align="center" valign="top" id="bodyCell">
                                    
                                    <!-- emailBody width: 600 px padding: 0  margin: 0 -->
                                    <table border="0" cellpadding="0" cellspacing="0" id="emailBody">
                                        <tr>
                                            <td align="center" valign="top">

                                                <!-- CONTENT ('html_body' field of email.template) -->
                                                <t t-call="fso_website_email.content"/>

                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>

                            <!-- FOOTER -->
                            <tr>
                                <td align="center" class="footerCell">

                                </td>
                            </tr>

                        </table>
                    </center>

                </t>
                
                <!-- THEME DADI JAVA SCRIPT ASSETS IN EDIT MODE -->
                <t t-if="email_editor_mode">
                    <t t-call-assets="fso_website_email.theme_dadi_assets_editmode" t-css="false"/>
                </t>
                
                <!-- THEME DADI JAVA SCRIPT ASSETS -->
                <t t-call-assets="fso_website_email.theme_dadi_assets" t-css="false"/>
            </body>

        </html>
    </template>

    <!-- Enable the boolean field 'fso_email_template' to show this view at 'fso/email/select' -->
    <record id="fso_website_email.theme_dadi" model="ir.ui.view">
        <field name="fso_email_template" eval="True"/>
    </record>

</data>
</openerp>
